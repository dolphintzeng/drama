<!DOCTYPE html>
<html>
<head>
  <title>Redirecting...</title>
  <style>
    /* 頁面整體樣式 - 與首頁保持一致 */
    body {
      margin: 0;
      padding: 0;
      background: #121212; /* 深色背景 */
      font-family: 'Segoe UI', sans-serif;
      color: #fff;
      min-height: 100vh;
      padding-top: 80px; /* 為頂部導航留出空間 */
    }

    /* 錯誤訊息樣式 */
    .flashes {
      background: rgba(231, 76, 60, 0.1);
      border: 1px solid rgba(231, 76, 60, 0.3);
      border-radius: 10px;
      padding: 15px;
      margin-bottom: 20px;
      list-style: none;
    }

    .flashes li {
      color: #e74c3c;
      font-size: 14px;
      display: flex;
      align-items: center;
    }

    .flashes li:before {
      content: "\f071";
      font-family: "Font Awesome 6 Free";
      font-weight: 900;
      margin-right: 8px;
    }
  </style>
  <script>
    window.onload = function() {
      document.getElementById('redirectForm').submit();
    }
  </script>
</head><!-- getElementById設定對應id的值，其submit觸發window.onload能確保表格載入後能快速提交 -->

<body>
  {% with messages = get_flashed_messages() %}
    {% if messages %}
      <ul class="flashes">
        {% for message in messages %}
          <li>{{ message }}</li>
        {% endfor %}
      </ul>
    {% endif %}
  {% endwith %}

  <form id="redirectForm" action="{{ action }}" method="POST">
    {% if key %}
      <input type="hidden" name="key" value="{{ key | safe }}">
    {% endif %}
    {% if title %}
      <input type="hidden" name="title" value="{{ title | safe }}">
    {% endif %}
    {% if url %}
      <input type="hidden" name="url" value="{{ url | safe }}">
    {% endif %}
    {% if pic %}
      <input type="hidden" name="pic" value="{{ pic | safe }}">
    {% endif %}
    {% if content %}
      <input type="hidden" name="content" value="{{ content | safe }}">
    {% endif %}
  </form>
  <p>Redirecting...</p>
</body>
</html>